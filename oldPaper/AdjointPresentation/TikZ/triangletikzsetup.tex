\usetikzlibrary{shapes,arrows,decorations.pathreplacing, calc, intersections}
\makeatletter
\newcommand{\gettikzxy}[3]{%
  \tikz@scan@one@point\pgfutil@firstofone#1\relax
  \edef#2{\the\pgf@x}%
  \edef#3{\the\pgf@y}%
}
\makeatother

%% =================
% layers
%% =================

\pgfdeclarelayer{timelayer}
\pgfdeclarelayer{varlayer}
\pgfdeclarelayer{celllayer}
\pgfsetlayers{timelayer,varlayer,celllayer}


%% =================
% absolute constants
%% =================


\def\clscellsize{4.5}
\def\blockdist{2.3}
\def\edgedist{2.5}
\def\clsdist{.1}
\def\varmargin{.25}
\def\timemargin{.25}

%% =================
% relative constants
%% =================


\def\clsgrpdist{\clscellsize * .1}
\def\vargrpdist{\clscellsize * .4}
\def\timegrpdist{\clscellsize * 1.5}


%% =================
% styles
%% =================


\tikzstyle{clsnode} = [draw, fill = white, shape = circle, minimum height=\clscellsize em]
\tikzstyle{varnode} = [draw, fill = yellow!10]
\tikzstyle{timenode} = [draw, fill = blue!10]
\tikzstyle{myarrow} = [draw, ->, line width = 2]
