\documentclass[10pt,a4paper]{article}
\input{preamble}
\usepackage[graphics, tightpage, active]{preview}
\setlength{\PreviewBorder}{2pt}
\PreviewEnvironment{tikzpicture}

\begin{document}
\input{commands}
<>
\end{document}